// Generated by CoffeeScript 1.10.0

/**
 * @param {HTMLElement}
 * @return {JSON}
 */

(function() {
  this.serialize = function(form) {
    var el, i, j, json, len, len1, low, name, obj, opt, ref, ref1, setKey, stringify, value;
    stringify = JSON.stringify;
    low = function(str) {
      return str.toLowerCase();
    };
    obj = {};
    setKey = function(key, val) {
      return obj[key] = val;
    };
    if (form || low(form.nodeName) !== 'form') {
      ref = form.elements;
      for (i = 0, len = ref.length; i < len; i++) {
        el = ref[i];
        name = el.name, value = el.value;
        switch (low(el.nodeName)) {
          case 'textarea':
            setKey(name, value);
            break;
          case 'select':
            switch (el.type) {
              case 'select-one':
                setKey(el);
                break;
              case 'select-multiple':
                ref1 = el.options;
                for (j = 0, len1 = ref1.length; j < len1; j++) {
                  opt = ref1[j];
                  value = opt;
                }
                setKey(name, value);
            }
            break;
          case 'input':
            switch (el.type) {
              case 'text':
              case 'password':
              case 'button':
              case 'reset':
              case 'submit':
                setKey(name, value);
                break;
              case 'checkbox':
              case 'radio':
                setKey(name, el.checked);
            }
        }
      }
    }
    json = stringify(obj);
    return json;
  };

}).call(this);
